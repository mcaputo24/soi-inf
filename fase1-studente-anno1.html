<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fase 1 - Studente Anno I</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="style-form.css">
<style>
  .intro-aggettivi {
   margin-top: 20px;
   margin-bottom: 10px;
  }
  .aggettivi-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    list-style: none;
    padding-left: 0;
  }
  .aggettivi-list li {
    flex: 1 1 calc(50% - 10px); /* due colonne su desktop */
    min-width: 150px;
  }
  .aggettivi-list input {
    width: 100%;
    padding: 5px;
    box-sizing: border-box;
  }
  @media (max-width: 768px) {
    .aggettivi-list li {
      flex: 1 1 100%; /* una colonna su mobile */
    }
  }
</style>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.28.1/cytoscape.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    #cy {
      width: 100%;
      height: 400px;
      border: 1px solid #ccc;
      margin: 20px 0;
    }
    table.flag-summary {
      width: 100%;
      margin-top: 20px;
      border-collapse: collapse;
    }
    table.flag-summary th, table.flag-summary td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }
  </style>
</head>
<body>
  <header class="page-header">
    <img src="logo.png" alt="Logo SOI">
    <h1>Sistema di Orientamento Integrato</h1>
  </header>

  <main>
<div class="card">
    <h1>Rilevazione dei bisogni di orientamento per gli studenti del I anno</h1>
  </div>
<form>
<div class="card">
  <h2>Dati anagrafici</h2>
    <div class="anagrafica-grid">
      <label>Nome:<br><input type="text" name="nome" required></label>
      <label>Cognome:<br><input type="text" name="cognome" required></label>
      <label>Classe:<br><input type="text" name="classe" required></label>
      <label>Data:<br><input type="date" name="data" required></label>
    </div>
    <hr>
</div>
<div class="card">
  <h2 class="scheda-title scheda1-title">Scheda 1 – Mappa di descrizione di sé</h2>
  <p class="scheda1-intro">
    Le mappe sono rappresentazioni grafiche (come fossero disegni) che ci aiutano a vedere meglio 
    le singole tessere che compongono il puzzle e come si incastrano tra loro. 
    Sono delle strategie che ci permettono di organizzare le cose che conosciamo. 
    Prova a fare una mappa di te stesso (in pratica una bella fotografia di te stesso).
  </p>

  <p class="scheda1-aggettivi-titolo">Elenca dieci aggettivi che ritieni essere i più adatti per descriverti:</p>
  <ol class="aggettivi-list">
    <li><input type="text" name="agg1"></li>
    <li><input type="text" name="agg2"></li>
    <li><input type="text" name="agg3"></li>
    <li><input type="text" name="agg4"></li>
    <li><input type="text" name="agg5"></li>
    <li><input type="text" name="agg6"></li>
    <li><input type="text" name="agg7"></li>
    <li><input type="text" name="agg8"></li>
    <li><input type="text" name="agg9"></li>
    <li><input type="text" name="agg10"></li>
  </ol>

  <p class="scheda1-istruzioni">
    Adesso, utilizza alcuni di questi aggettivi, quelli che ritieni più importanti, per disegnare la tua mappa. 
    Al centro ci sei tu (“IO SONO”), intorno inserisci gli aggettivi e collega a ciascuno attività e contesti.
  </p>

  <p class="scheda1-esempio">ESEMPIO</p>
<img src="mappa-esempio.png" alt="Esempio mappa" style="display:block; margin:0 auto; max-width:80%;">

  <p class="scheda1-mappa-titolo">Crea la tua mappa concettuale interattiva</p>
  <div id="cy" style="height: 500px; border: 1px solid #ccc; margin-bottom: 20px;"></div>
  <div id="controls-content"></div>

  <hr>

  <p class="scheda1-tabella-aggettivi">
  Nella tabella sottostante trovi alcuni aggettivi che potresti usare per descriverti
</p>

  <img src="aggettivi.png" alt="Tabella aggettivi" style="max-width: 100%; height: auto; margin: 20px 0;">

  <div>
  <p class="domanda-label">
    1) Tra le attività che hai descritto nella mappa, scegli le due che ti piacciono di più e prova a dire perché
  </p>
  <textarea name="scheda1_attivita_preferite" id="scheda1_attivita_preferite" rows="4" style="width: 100%;"></textarea>
</div>

<div>
  <p class="domanda-label">
    2) E rispetto alla scuola, cosa ti piace? Ci sono materie o argomenti che ti piacerebbe approfondire
  </p>
  <textarea name="scheda1_preferenze_scolastiche" id="scheda1_preferenze_scolastiche" rows="4" style="width: 100%;"></textarea>
</div>

</div>


<div class="card">
      <h2 class="scheda-title scheda2-title">Scheda 2 – Un pensiero sul lavoro</h2>
      <p class="domanda-label">1) Secondo te, cos'è il lavoro?</p>
  <textarea name="cos_e_lavoro" rows="4" style="width: 100%;"></textarea>

  <p class="domanda-label">2) Perché le persone lavorano?</p>
  <textarea name="perche_lavoro" rows="4" style="width: 100%;"></textarea>

  <p class="domanda-label">3) Se nessuno lavorasse, cosa succederebbe?</p>
  <textarea name="senza_lavoro" rows="4" style="width: 100%;"></textarea>

  <p class="domanda-label">4) Se penso al lavoro, mi sento...</p>
  <textarea name="emozioni_lavoro" rows="2" style="width: 100%;"></textarea>

      <hr>
</div>
<div class="card">
  <h2 class="scheda-title scheda3-title">Scheda 3 – Modi di lavorare</h2>

  <p>
    Esistono quattro principali modi diversi di lavorare. Quasi tutte le professioni si svolgono lavorando un po' in ciascun modo, ma in genere prevale uno stile.
  </p>

  <ul class="work-modes">
    <li>
      <strong>Con la GENTE</strong>: quando si hanno frequenti o continui rapporti con molte persone 
      (con i clienti, i pazienti, gli allievi...). Star bene con la gente ed avere facilità di rapporti 
      con le persone è una caratteristica indispensabile per tanti professionisti diversi: 
      gli insegnanti, i negozianti, i medici, i parrucchieri...
    </li>
    <li>
      <strong>Con i DATI</strong>: quando si ha a che fare con la registrazione, il calcolo, 
      l'elaborazione di dati statistici, dati anagrafici, dati di mercato, calcoli numerici... 
      Lavorano con i dati soprattutto gli impiegati amministrativi, i ragionieri, i segretari, 
      i ricercatori di mercato, gli economisti...
    </li>
    <li>
      <strong>Con le IDEE</strong>: quando si producono concetti astratti, idee artistiche, scientifiche... 
      o si riflette su di esse. In tutte le professioni si deve in qualche modo lavorare col cervello e quindi 
      con le idee, ma certi lavori richiedono una capacità particolarmente sviluppata di riflettere, ragionare, inventare: 
      è il caso, per esempio degli artisti, degli scienziati, dei filosofi...
    </li>
    <li>
      <strong>Con le COSE</strong>: quando si debbono manipolare dei materiali o degli oggetti per produrre 
      o riparare manufatti (materiali come il legno, il ferro, la stoffa... oggetti come l'automobile, la televisione...). 
      Lavorano soprattutto con le cose gli agricoltori o gli artigiani come i sarti, i fabbri, i ceramisti, gli orafi...
    </li>
  </ul>

  <p class="scheda3-intro">
  Ora, prova a compilare il questionario indicando quali modalità senti più tue 
  (ti potrebbero piacere di più, pensando a come sei fatto).
</p>

<p class="scheda3-titolo">QUESTIONARIO DI AUTOVALUTAZIONE</p>

<p class="scheda3-istruzioni">
  Metti un flag alle affermazioni che descrivono chi sei e i tuoi interessi, 
  in base ai quattro principali modi di lavorare.
</p>

</div>

      <fieldset id="checkbox-area">
        <!-- checkbox generate dinamicamente da JS -->
      </fieldset>
      <table class="flag-summary">
        <thead>
          <tr>
            <th>Lavorare con la GENTE</th>
            <th>Lavorare con le IDEE</th>
            <th>Lavorare con i DATI</th>
            <th>Lavorare con le COSE</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td id="sum-gente">0</td>
            <td id="sum-idee">0</td>
            <td id="sum-dati">0</td>
            <td id="sum-cose">0</td>
          </tr>
        </tbody>
      </table>

<div class="reflection-question">
  <p><strong>Adesso, prova a riflettere, rispondendo a questa domanda:</strong></p>
  <label for="scheda3_riflessione">Cosa hai capito di te? Quale potrebbe essere la modalità di lavorare migliore per te? (In pratica: come ti piacerebbe lavorare?)</label>
  <textarea name="scheda3_riflessione" id="scheda3_riflessione" rows="4" style="width: 100%; margin-top: 10px;"></textarea>
</div>

      <hr>

<div class="card">
  <h2 class="scheda-title scheda4-title">Scheda 4 – Tutte le possibili strade</h2>

  <p class="scheda4-domanda">1) Quale o quali lavori ti piacerebbe fare da grande?</p>
  <textarea name="lavori_preferiti" rows="3" style="width: 100%;"></textarea>

  <p class="scheda4-domanda">2) Come ti immagini mentre svolgi uno di questi lavori?</p>
  <textarea name="immaginazione_lavoro" rows="3" style="width: 100%;"></textarea>

  <p class="scheda4-domanda">3) Perché pensi che questo lavoro faccia per te?</p>
  <textarea name="motivazioni_lavoro" rows="4" style="width: 100%;"></textarea>

  <p class="scheda4-domanda">4) Quali desideri, sogni, obiettivi pensi di poter realizzare con questo lavoro?</p>
  <textarea name="obiettivi" rows="4" style="width: 100%;"></textarea>

  <p class="scheda4-domanda">5) C'è qualcuno che ammiri o che ti ispira per il suo lavoro o modo di vivere?</p>
  <textarea name="ispirazioni" rows="2" style="width: 100%;"></textarea>

  <p class="scheda4-domanda">ADESSO - Come mi preparo al mio futuro?</p>
  <p>Ora serve un ultimo sforzo per riflettere su come puoi arrivare a svolgere il lavoro che ti piace. Un primo tentativo di riflessione...</p>

  <p class="scheda4-domanda">Qual è il modo di studiare che funziona meglio per te?</p>
  <p>Prova a pensare a quando ti senti davvero coinvolto e riesci a capire meglio le cose (senza sforzo e fatica).</p>
  <p>Quando studi da solo oppure quando ascolti qualcuno che spiega? Quando studi da solo oppure in gruppo? 
     Leggendo sui libri oppure su altri supporti? Studi meglio facendo esercizi o con l’applicazione pratica, magari nei laboratori? etc.</p>
  <textarea name="modo_studiare" rows="4" style="width: 100%;"></textarea>
</div>

<br><br>
<div class="card recovery-link">
  <h3>Riprendi il questionario</h3>
  <p>
    Puoi continuare da un altro dispositivo usando questo link:<br>
    <a href="#" id="recovery-url" target="_blank"></a>
  </p>
</div>


<div class="action-buttons">
  <button id="save-btn" class="save-btn">Salva</button>
  <button id="pdf-btn" class="pdf-btn">Scarica PDF</button>
  <button id="menu-btn" class="menu-btn" onclick="window.location.href='index.html'">Menu principale</button>
</div>


 </form>
</main>

  <script type="module">
    // Mappa interattiva
    const cy = cytoscape({
      container: document.getElementById('cy'),
      elements: [],
      style: [{ selector: 'node', style: { 'label': 'data(label)', 'background-color': '#007bff', 'color': '#fff' } },
              { selector: 'edge', style: { 'width': 2, 'line-color': '#999' } }],
      layout: { name: 'grid' }
    });
    
    cy.on('tap', function(event) {
      if (event.target === cy) {
        const id = 'n' + cy.elements().length;
        cy.add({ group: 'nodes', data: { id: id, label: prompt('Etichetta nodo?') }, position: event.position });
      } else if (event.target.isNode()) {
        const selected = cy.$(':selected');
        if (selected.length === 1 && selected[0] !== event.target) {
          cy.add({ group: 'edges', data: { source: selected[0].id(), target: event.target.id() } });
        }
        event.target.select();
      }
    });

    const checkboxArea = document.getElementById('checkbox-area');
    const sumFields = {
      gente: document.getElementById('sum-gente'),
      idee: document.getElementById('sum-idee'),
      dati: document.getElementById('sum-dati'),
      cose: document.getElementById('sum-cose')
    };

    Object.entries(categorie).forEach(([cat, frasi]) => {
      frasi.forEach((testo, index) => {
        const id = `${cat}-${index}`;
        const label = document.createElement('label');
        const input = document.createElement('input');
        input.type = 'checkbox';
        input.id = id;
        input.dataset.cat = cat;
        label.appendChild(input);
        label.appendChild(document.createTextNode(' ' + testo));
        checkboxArea.appendChild(label);
        checkboxArea.appendChild(document.createElement('br'));
      });
    });

    checkboxArea.addEventListener('change', () => {
      const counts = { gente: 0, idee: 0, dati: 0, cose: 0 };
      checkboxArea.querySelectorAll('input[type="checkbox"]').forEach(cb => {
        if (cb.checked) counts[cb.dataset.cat]++;
      });
      Object.entries(counts).forEach(([cat, val]) => sumFields[cat].textContent = val);
    });
  </script>
<script type="module" src="script.js"></script>
</body>
</html>
